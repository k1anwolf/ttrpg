# TTRPG Combat Tracker

Профессиональный боевой трекер для настольных ролевых игр с поддержкой различных типов персонажей, продвинутой системой действий и базой данных Supabase.

## Быстрый старт

### 1. Установка Node.js
Скачайте и установите Node.js 18+ с https://nodejs.org/

### 2. Распаковка проекта
Распакуйте архив `ttrpg-combat-tracker.tar.gz` в любую папку

### 3. Настройка Supabase

1. Создайте бесплатный аккаунт на https://supabase.com/
2. Создайте новый проект
3. Получите URL проекта и anon key из Settings → API
4. Откройте файл `.env` и замените:
   ```
   VITE_SUPABASE_URL="ваш_url"
   VITE_SUPABASE_ANON_KEY="ваш_ключ"
   ```

5. В Supabase Dashboard → SQL Editor выполните SQL из файла:
   `supabase/migrations/20251001103639_create_combat_tracker_schema.sql`

### 4. Установка зависимостей

```bash
npm install
```

### 5. Запуск

**Windows:**
Двойной клик по `start.bat`

**Linux/macOS:**
```bash
./start.sh
```

**Или вручную:**
```bash
npm run dev
```

### 6. Открыть в браузере
http://localhost:5000

## Основные возможности

✅ **Типы персонажей:**
- Игроки с системой спасбросков от смерти
- НПС с мгновенной смертью
- Боссы с трекером урона (без HP)

✅ **Система выбора целей:**
- Одиночные и множественные цели
- AoE режим
- Проверки попадания (успех/провал/крит)

✅ **Управление:**
- Мануальное редактирование HP/MP/AC/характеристик
- Мануальное убийство/воскрешение
- Система снаряжения с бонусами

✅ **Механики:**
- Тик-система для эффектов и кулдаунов
- Воскрешение игроков через 3 успешных спасброска
- Статусы "до снятия" без тиков
- Сброс боя с удалением временных эффектов

## Документация

- **INSTALLATION.md** - Подробная инструкция по установке
- **FEATURES.md** - Полное описание всех функций

## Структура

```
├── client/          # React фронтенд
├── server/          # Express сервер
├── shared/          # Общие типы
├── supabase/        # Миграции БД
├── .env             # Настройки (ВАЖНО!)
├── start.bat        # Запуск для Windows
└── start.sh         # Запуск для Linux/macOS
```

## Полезные команды

```bash
npm run dev      # Запуск в режиме разработки
npm run build    # Сборка проекта
npm start        # Запуск продакшн версии
npm run check    # Проверка TypeScript
```

## Решение проблем

**Ошибка подключения к БД:**
- Проверьте `.env` файл
- Убедитесь, что миграция выполнена в Supabase

**Порт занят:**
Измените порт в `server/index.ts`:
```typescript
const port = process.env.PORT || 5001;
```

**Ошибки зависимостей:**
```bash
rm -rf node_modules package-lock.json
npm install
```

## Техподдержка

- Логи браузера: F12 → Console
- Логи сервера: в терминале где запущен `npm run dev`
- Supabase статус: https://status.supabase.com/

---

**Технологии:** React, TypeScript, Express, Supabase, TailwindCSS, shadcn/ui
